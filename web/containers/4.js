/**
 * Copyright (C) 2015 Digimedia Sp. z o.o. d/b/a Clearcode
 *
 * This program is free software: you can redistribute it and/or modify it under
 * the terms of the GNU Affero General Public License as published by the Free
 * Software Foundation, either version 3 of the License, or (at your option) any
 * later version.
 *
 * This program is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the
 * GNU Affero General Public License for more details.
 *
 * You should have received a copy of the GNU Affero General Public License
 * along with this program. If not, see <http://www.gnu.org/licenses/>.
 */
(function(stg){stg=window.sevenTag=stg||{};stg.tagTree=[];stg.debugOptions={"enabled":false,"containerName":""};stg.variables=[{"name":"Page Url","type":{"name":"Url","collector_name":"url","helper":"To configure you need to set one of property of this object like hash or protocol"},"value":"href","options":[]},{"name":"Referrer","type":{"name":"Document","collector_name":"document","helper":"To configure you need to set one of property of this object like referrer"},"value":"referrer","options":[]},{"name":"Page Path","type":{"name":"Url","collector_name":"url","helper":"To configure you need to set one of property of this object like hash or protocol"},"value":"hostname","options":[]},{"name":"Page Hostname","type":{"name":"Url","collector_name":"url","helper":"To configure you need to set one of property of this object like hash or protocol"},"value":"hostname","options":[]},{"name":"Click Classes","type":{"name":"Data Layer","collector_name":"dataLayer","helper":"To configure you need to set name of dataLayer event property"},"value":"elementClasses","options":[]},{"name":"Click ID","type":{"name":"Data Layer","collector_name":"dataLayer","helper":"To configure you need to set name of dataLayer event property"},"value":"elementId","options":[]},{"name":"Click Url","type":{"name":"Data Layer","collector_name":"dataLayer","helper":"To configure you need to set name of dataLayer event property"},"value":"elementUrl","options":[]},{"name":"Form ID","type":{"name":"Data Layer","collector_name":"dataLayer","helper":"To configure you need to set name of dataLayer event property"},"value":"elementId","options":[]},{"name":"Form Classes","type":{"name":"Data Layer","collector_name":"dataLayer","helper":"To configure you need to set name of dataLayer event property"},"value":"elementClasses","options":[]},{"name":"Form Url","type":{"name":"Data Layer","collector_name":"dataLayer","helper":"To configure you need to set name of dataLayer event property"},"value":"elementClasses","options":[]},{"name":"Event","type":{"name":"Data Layer","collector_name":"dataLayer","helper":"To configure you need to set name of dataLayer event property"},"value":"event","options":[]}]}(window.sevenTag));
!function(){function t(t,s){t=t||"",s=s||{};for(var c in e)e.hasOwnProperty(c)&&(s.autoFix&&(s["fix_"+c]=!0),s.fix=s.fix||s["fix_"+c]);var u=[],f=document.createElement("div"),l=function(t){return"string"==typeof t&&-1!==t.indexOf("&")?(f.innerHTML=t,f.textContent||f.innerText||t):t},d=function(e){t+=e},v=function(e){t=e+t},h={comment:/^<!--/,endTag:/^<\//,atomicTag:/^<\s*(script|style|noscript|iframe|textarea)[\s\/>]/i,startTag:/^</,chars:/^[^<]/},p={comment:function(){var e=t.indexOf("-->");return e>=0?{content:t.substr(4,e),length:e+3}:void 0},endTag:function(){var e=t.match(r);return e?{tagName:e[1],length:e[0].length}:void 0},atomicTag:function(){var e=p.startTag();if(e){var n=t.slice(e.length);if(n.match(new RegExp("</\\s*"+e.tagName+"\\s*>","i"))){var r=n.match(new RegExp("([\\s\\S]*?)</\\s*"+e.tagName+"\\s*>","i"));if(r)return{tagName:e.tagName,attrs:e.attrs,content:r[1],length:r[0].length+e.length}}}},startTag:function(){var e=t.indexOf(">");if(-1===e)return null;var r=t.match(n);if(r){var a={},s={},c=r[2];return r[2].replace(i,function(t,e){if(arguments[2]||arguments[3]||arguments[4]||arguments[5])if(arguments[5])a[arguments[5]]="",s[e]=!0;else{var n=arguments[2]||arguments[3]||arguments[4]||o.test(e)&&e||"";a[e]=l(n)}else a[e]=null;c=c.replace(t,"")}),{tagName:r[1],attrs:a,booleanAttrs:s,rest:c,unary:!!r[3],length:r[0].length}}},chars:function(){var e=t.indexOf("<");return{length:e>=0?e:t.length}}},g=function(){for(var e in h)if(h[e].test(t)){a&&console.log("suspected "+e);var n=p[e]();return n?(a&&console.log("parsed "+e,n),n.type=n.type||e,n.text=t.substr(0,n.length),t=t.slice(n.length),n):null}},m=function(t){for(var e;e=g();)if(t[e.type]&&t[e.type](e)===!1)return},y=function(){var e=t;return t="",e},w=function(){return t};return s.fix&&!function(){var e=/^(AREA|BASE|BASEFONT|BR|COL|FRAME|HR|IMG|INPUT|ISINDEX|LINK|META|PARAM|EMBED)$/i,n=/^(COLGROUP|DD|DT|LI|OPTIONS|P|TD|TFOOT|TH|THEAD|TR)$/i,r=[];r.last=function(){return this[this.length-1]},r.lastTagNameEq=function(t){var e=this.last();return e&&e.tagName&&e.tagName.toUpperCase()===t.toUpperCase()},r.containsTagName=function(t){for(var e,n=0;e=this[n];n++)if(e.tagName===t)return!0;return!1};var i=function(t){return t&&"startTag"===t.type&&(t.unary=e.test(t.tagName)||t.unary,t.html5Unary=!/\/>$/.test(t.text)),t},o=g,a=function(){var e=t,n=i(o());return t=e,n},c=function(){var t=r.pop();v("</"+t.tagName+">")},u={startTag:function(t){var e=t.tagName;"TR"===e.toUpperCase()&&r.lastTagNameEq("TABLE")?(v("<TBODY>"),l()):s.fix_selfClose&&n.test(e)&&r.containsTagName(e)?r.lastTagNameEq(e)?c():(v("</"+t.tagName+">"),l()):t.unary||r.push(t)},endTag:function(t){var e=r.last();e?s.fix_tagSoup&&!r.lastTagNameEq(t.tagName)?c():r.pop():s.fix_tagSoup&&f()}},f=function(){o(),l()},l=function(){var t=a();t&&u[t.type]&&u[t.type](t)};g=function(){return l(),i(o())}}(),{append:d,readToken:g,readTokens:m,clear:y,rest:w,stack:u}}var e=function(){var t,e={},n=this.document.createElement("div");return t="<P><I></P></I>",n.innerHTML=t,e.tagSoup=n.innerHTML!==t,n.innerHTML="<P><i><P></P></i></P>",e.selfClose=2===n.childNodes.length,e}(),n=/^<([\-A-Za-z0-9_]+)((?:\s+[\w\-]+(?:\s*=?\s*(?:(?:"[^"]*")|(?:'[^']*')|[^>\s]+))?)*)\s*(\/?)>/,r=/^<\/([\-A-Za-z0-9_]+)[^>]*>/,i=/(?:([\-A-Za-z0-9_]+)\s*=\s*(?:(?:"((?:\\.|[^"])*)")|(?:'((?:\\.|[^'])*)')|([^>\s]+)))|(?:([\-A-Za-z0-9_]+)(\s|$)+)/g,o=/^(checked|compact|declare|defer|disabled|ismap|multiple|nohref|noresize|noshade|nowrap|readonly|selected)$/i,a=!1;t.supports=e,t.tokenToString=function(t){var e={comment:function(t){return"<!--"+t.content},endTag:function(t){return"</"+t.tagName+">"},atomicTag:function(t){return a&&console.log(t),e.startTag(t)+t.content+e.endTag(t)},startTag:function(t){var e="<"+t.tagName;for(var n in t.attrs){e+=" "+n;var r=t.attrs[n];"undefined"!=typeof t.booleanAttrs&&"undefined"!=typeof t.booleanAttrs[n]||(e+='="'+(r?r.replace(/(^|[^\\])"/g,'$1\\"'):"")+'"')}return t.rest&&(e+=t.rest),e+(t.unary&&!t.html5Unary?"/>":">")},chars:function(t){return t.text}};return e[t.type](t)},t.escapeAttributes=function(t){var e={};for(var n in t){var r=t[n];e[n]=r&&r.replace(/(^|[^\\])"/g,'$1\\"')}return e};for(var s in e)t.browserHasFlaw=t.browserHasFlaw||!e[s]&&s;this.htmlParser=t}(),function(){function t(t,s){t=t||"",s=s||{};for(var c in e)e.hasOwnProperty(c)&&(s.autoFix&&(s["fix_"+c]=!0),s.fix=s.fix||s["fix_"+c]);var u=[],f=document.createElement("div"),l=function(t){return"string"==typeof t&&-1!==t.indexOf("&")?(f.innerHTML=t,f.textContent||f.innerText||t):t},d=function(e){t+=e},v=function(e){t=e+t},h={comment:/^<!--/,endTag:/^<\//,atomicTag:/^<\s*(script|style|noscript|iframe|textarea)[\s\/>]/i,startTag:/^</,chars:/^[^<]/},p={comment:function(){var e=t.indexOf("-->");return e>=0?{content:t.substr(4,e),length:e+3}:void 0},endTag:function(){var e=t.match(r);return e?{tagName:e[1],length:e[0].length}:void 0},atomicTag:function(){var e=p.startTag();if(e){var n=t.slice(e.length);if(n.match(new RegExp("</\\s*"+e.tagName+"\\s*>","i"))){var r=n.match(new RegExp("([\\s\\S]*?)</\\s*"+e.tagName+"\\s*>","i"));if(r)return{tagName:e.tagName,attrs:e.attrs,content:r[1],length:r[0].length+e.length}}}},startTag:function(){var e=t.indexOf(">");if(-1===e)return null;var r=t.match(n);if(r){var a={},s={},c=r[2];return r[2].replace(i,function(t,e){if(arguments[2]||arguments[3]||arguments[4]||arguments[5])if(arguments[5])a[arguments[5]]="",s[e]=!0;else{var n=arguments[2]||arguments[3]||arguments[4]||o.test(e)&&e||"";a[e]=l(n)}else a[e]=null;c=c.replace(t,"")}),{tagName:r[1],attrs:a,booleanAttrs:s,rest:c,unary:!!r[3],length:r[0].length}}},chars:function(){var e=t.indexOf("<");return{length:e>=0?e:t.length}}},g=function(){for(var e in h)if(h[e].test(t)){a&&console.log("suspected "+e);var n=p[e]();return n?(a&&console.log("parsed "+e,n),n.type=n.type||e,n.text=t.substr(0,n.length),t=t.slice(n.length),n):null}},m=function(t){for(var e;e=g();)if(t[e.type]&&t[e.type](e)===!1)return},y=function(){var e=t;return t="",e},w=function(){return t};return s.fix&&!function(){var e=/^(AREA|BASE|BASEFONT|BR|COL|FRAME|HR|IMG|INPUT|ISINDEX|LINK|META|PARAM|EMBED)$/i,n=/^(COLGROUP|DD|DT|LI|OPTIONS|P|TD|TFOOT|TH|THEAD|TR)$/i,r=[];r.last=function(){return this[this.length-1]},r.lastTagNameEq=function(t){var e=this.last();return e&&e.tagName&&e.tagName.toUpperCase()===t.toUpperCase()},r.containsTagName=function(t){for(var e,n=0;e=this[n];n++)if(e.tagName===t)return!0;return!1};var i=function(t){return t&&"startTag"===t.type&&(t.unary=e.test(t.tagName)||t.unary,t.html5Unary=!/\/>$/.test(t.text)),t},o=g,a=function(){var e=t,n=i(o());return t=e,n},c=function(){var t=r.pop();v("</"+t.tagName+">")},u={startTag:function(t){var e=t.tagName;"TR"===e.toUpperCase()&&r.lastTagNameEq("TABLE")?(v("<TBODY>"),l()):s.fix_selfClose&&n.test(e)&&r.containsTagName(e)?r.lastTagNameEq(e)?c():(v("</"+t.tagName+">"),l()):t.unary||r.push(t)},endTag:function(t){var e=r.last();e?s.fix_tagSoup&&!r.lastTagNameEq(t.tagName)?c():r.pop():s.fix_tagSoup&&f()}},f=function(){o(),l()},l=function(){var t=a();t&&u[t.type]&&u[t.type](t)};g=function(){return l(),i(o())}}(),{append:d,readToken:g,readTokens:m,clear:y,rest:w,stack:u}}var e=function(){var t,e={},n=this.document.createElement("div");return t="<P><I></P></I>",n.innerHTML=t,e.tagSoup=n.innerHTML!==t,n.innerHTML="<P><i><P></P></i></P>",e.selfClose=2===n.childNodes.length,e}(),n=/^<([\-A-Za-z0-9_]+)((?:\s+[\w\-]+(?:\s*=?\s*(?:(?:"[^"]*")|(?:'[^']*')|[^>\s]+))?)*)\s*(\/?)>/,r=/^<\/([\-A-Za-z0-9_]+)[^>]*>/,i=/(?:([\-A-Za-z0-9_]+)\s*=\s*(?:(?:"((?:\\.|[^"])*)")|(?:'((?:\\.|[^'])*)')|([^>\s]+)))|(?:([\-A-Za-z0-9_]+)(\s|$)+)/g,o=/^(checked|compact|declare|defer|disabled|ismap|multiple|nohref|noresize|noshade|nowrap|readonly|selected)$/i,a=!1;t.supports=e,t.tokenToString=function(t){var e={comment:function(t){return"<!--"+t.content},endTag:function(t){return"</"+t.tagName+">"},atomicTag:function(t){return a&&console.log(t),e.startTag(t)+t.content+e.endTag(t)},startTag:function(t){var e="<"+t.tagName;for(var n in t.attrs){e+=" "+n;var r=t.attrs[n];"undefined"!=typeof t.booleanAttrs&&"undefined"!=typeof t.booleanAttrs[n]||(e+='="'+(r?r.replace(/(^|[^\\])"/g,'$1\\"'):"")+'"')}return t.rest&&(e+=t.rest),e+(t.unary&&!t.html5Unary?"/>":">")},chars:function(t){return t.text}};return e[t.type](t)},t.escapeAttributes=function(t){var e={};for(var n in t){var r=t[n];e[n]=r&&r.replace(/(^|[^\\])"/g,'$1\\"')}return e};for(var s in e)t.browserHasFlaw=t.browserHasFlaw||!e[s]&&s;this.htmlParser=t}(),function(){function t(){}function e(t){return t!==d&&null!==t}function n(t){return"function"==typeof t}function r(t,e,n){var r,i=t&&t.length||0;for(r=0;i>r;r++)e.call(n,t[r],r)}function i(t,e,n){var r;for(r in t)t.hasOwnProperty(r)&&e.call(n,r,t[r])}function o(t,e){return i(e,function(e,n){t[e]=n}),t}function a(t,n){return t=t||{},i(n,function(n,r){e(t[n])||(t[n]=r)}),t}function s(t){try{return h.call(t)}catch(e){var n=[];return r(t,function(t){n.push(t)}),n}}function c(t){return t&&"tagName"in t?!!~t.tagName.toLowerCase().indexOf("script"):!1}function u(t){return t&&"tagName"in t?!!~t.tagName.toLowerCase().indexOf("style"):!1}var f={afterAsync:t,afterDequeue:t,afterStreamStart:t,afterWrite:t,autoFix:!0,beforeEnqueue:t,beforeWriteToken:function(t){return t},beforeWrite:function(t){return t},done:t,error:function(t){throw t},releaseAsync:!1},l=this,d=void 0;if(!l.postscribe){var v=!1,h=Array.prototype.slice,p=function(t){return t[t.length-1]},g=function(){function t(t,n,r){var i=f+n;if(2===arguments.length){var o=t.getAttribute(i);return e(o)?String(o):o}e(r)&&""!==r?t.setAttribute(i,r):t.removeAttribute(i)}function a(e,n){var r=e.ownerDocument;o(this,{root:e,options:n,win:r.defaultView||r.parentWindow,doc:r,parser:htmlParser("",{autoFix:n.autoFix}),actuals:[e],proxyHistory:"",proxyRoot:r.createElement(e.nodeName),scriptStack:[],writeQueue:[]}),t(this.proxyRoot,"proxyof",0)}var f="data-ps-";return a.prototype.write=function(){[].push.apply(this.writeQueue,arguments);for(var t;!this.deferredRemote&&this.writeQueue.length;)t=this.writeQueue.shift(),n(t)?this.callFunction(t):this.writeImpl(t)},a.prototype.callFunction=function(t){var e={type:"function",value:t.name||t.toString()};this.onScriptStart(e),t.call(this.win,this.doc),this.onScriptDone(e)},a.prototype.writeImpl=function(t){this.parser.append(t);for(var e,n,r,i=[];(e=this.parser.readToken())&&!(n=c(e))&&!(r=u(e));)e=this.options.beforeWriteToken(e),e&&i.push(e);this.writeStaticTokens(i),n&&this.handleScriptToken(e),r&&this.handleStyleToken(e)},a.prototype.writeStaticTokens=function(t){var e=this.buildChunk(t);if(e.actual)return e.html=this.proxyHistory+e.actual,this.proxyHistory+=e.proxy,this.proxyRoot.innerHTML=e.html,v&&(e.proxyInnerHTML=this.proxyRoot.innerHTML),this.walkChunk(),v&&(e.actualInnerHTML=this.root.innerHTML),e},a.prototype.buildChunk=function(t){var e=this.actuals.length,n=[],i=[],o=[];return r(t,function(t){var r=htmlParser.tokenToString(t);if(n.push(r),t.attrs){if(!/^noscript$/i.test(t.tagName)){var a=e++;i.push(r.replace(/(\/?>)/," "+f+"id="+a+" $1")),"ps-script"!==t.attrs.id&&"ps-style"!==t.attrs.id&&o.push("atomicTag"===t.type?"":"<"+t.tagName+" "+f+"proxyof="+a+(t.unary?" />":">"))}}else i.push(r),o.push("endTag"===t.type?r:"")}),{tokens:t,raw:n.join(""),actual:i.join(""),proxy:o.join("")}},a.prototype.walkChunk=function(){for(var n,r=[this.proxyRoot];e(n=r.shift());){var i=1===n.nodeType,o=i&&t(n,"proxyof");if(!o){i&&(this.actuals[t(n,"id")]=n,t(n,"id",null));var a=n.parentNode&&t(n.parentNode,"proxyof");a&&this.actuals[a].appendChild(n)}r.unshift.apply(r,s(n.childNodes))}},a.prototype.handleScriptToken=function(t){var e=this.parser.clear();if(e&&this.writeQueue.unshift(e),t.src=t.attrs.src||t.attrs.SRC,t=this.options.beforeWriteToken(t)){t.src&&this.scriptStack.length?this.deferredRemote=t:this.onScriptStart(t);var n=this;this.writeScriptToken(t,function(){n.onScriptDone(t)})}},a.prototype.handleStyleToken=function(t){var e=this.parser.clear();e&&this.writeQueue.unshift(e),t.type=t.attrs.type||t.attrs.TYPE||"text/css",t=this.options.beforeWriteToken(t),t&&this.writeStyleToken(t),e&&this.write()},a.prototype.writeStyleToken=function(t){var e=this.buildStyle(t);this.insertStyle(e),t.content&&(e.styleSheet&&!e.sheet?e.styleSheet.cssText=t.content:e.appendChild(this.doc.createTextNode(t.content)))},a.prototype.buildStyle=function(t){var e=this.doc.createElement(t.tagName);return e.setAttribute("type",t.type),i(t.attrs,function(t,n){e.setAttribute(t,n)}),e},a.prototype.insertStyle=function(t){this.writeImpl('<span id="ps-style"/>');var e=this.doc.getElementById("ps-style");e.parentNode.replaceChild(t,e)},a.prototype.onScriptStart=function(t){t.outerWrites=this.writeQueue,this.writeQueue=[],this.scriptStack.unshift(t)},a.prototype.onScriptDone=function(t){return t!==this.scriptStack[0]?void this.options.error({message:"Bad script nesting or script finished twice"}):(this.scriptStack.shift(),this.write.apply(this,t.outerWrites),void(!this.scriptStack.length&&this.deferredRemote&&(this.onScriptStart(this.deferredRemote),this.deferredRemote=null)))},a.prototype.writeScriptToken=function(t,e){var n=this.buildScript(t),r=this.shouldRelease(n),i=this.options.afterAsync;t.src&&(n.src=t.src,this.scriptLoadHandler(n,r?i:function(){e(),i()}));try{this.insertScript(n),t.src&&!r||e()}catch(o){this.options.error(o),e()}},a.prototype.buildScript=function(t){var e=this.doc.createElement(t.tagName);return i(t.attrs,function(t,n){e.setAttribute(t,n)}),t.content&&(e.text=t.content),e},a.prototype.insertScript=function(t){this.writeImpl('<span id="ps-script"/>');var e=this.doc.getElementById("ps-script");e.parentNode.replaceChild(t,e)},a.prototype.scriptLoadHandler=function(t,e){function n(){t=t.onload=t.onreadystatechange=t.onerror=null}function r(){n(),e()}function i(t){n(),a(t),e()}var a=this.options.error;o(t,{onload:function(){r()},onreadystatechange:function(){/^(loaded|complete)$/.test(t.readyState)&&r()},onerror:function(){i({message:"remote script failed "+t.src})}})},a.prototype.shouldRelease=function(t){var e=/^script$/i.test(t.nodeName);return!e||!!(this.options.releaseAsync&&t.src&&t.hasAttribute("async"))},a}();l.postscribe=function(){function e(){var t,e=u.shift();e&&(t=p(e),t.afterDequeue(),e.stream=r.apply(null,e),t.afterStreamStart())}function r(n,r,a){function u(t){t=a.beforeWrite(t),d.write(t),a.afterWrite(t)}d=new g(n,a),d.id=c++,d.name=a.name||d.id,i.streams[d.name]=d;var f=n.ownerDocument,l={close:f.close,open:f.open,write:f.write,writeln:f.writeln};o(f,{close:t,open:t,write:function(){return u(s(arguments).join(""))},writeln:function(){return u(s(arguments).join("")+"\n")}});var v=d.win.onerror||t;return d.win.onerror=function(t,e,n){a.error({msg:t+" - "+e+":"+n}),v.apply(d.win,arguments)},d.write(r,function(){o(f,l),d.win.onerror=v,a.done(),d=null,e()}),d}function i(r,i,o){n(o)&&(o={done:o}),o=a(o,f),r=/^#/.test(r)?l.document.getElementById(r.substr(1)):r.jquery?r[0]:r;var s=[r,i,o];return r.postscribe={cancel:function(){s.stream?s.stream.abort():s[1]=t}},o.beforeEnqueue(s),u.push(s),d||e(),r.postscribe}var c=0,u=[],d=null;return o(i,{streams:{},queue:u,WriteStream:g})}()}}(),function(t,e){t[e]=t[e]||{}}(window,"sevenTag"),function(t,e){var n={dependencies:{},register:function(t,e){n.dependencies[t]=e},get:function(t){return n.dependencies[t]},has:function(t){return void 0!==n.dependencies[t]},resolve:function(t){for(var e=[],r=void 0!==t.$inject?t.$inject:[],i=0;i<r.length;i++){var o=r[i];if("undefined"==typeof n.dependencies[o]){var a=""===t.name?"":" Called from "+t.name+" function";throw"Can not resolve "+o+" dependency."+a}e.push(n.dependencies[o])}return t.apply({},e)}};t[e]=n}(window.sevenTag,"$injector"),function(t,e){t.service=function(t,n){var r=e.resolve;e.register(t,new r(n))},t.provider=function(t,n){e.register(t,e.resolve(n))},t.value=function(t,n){e.register(t,n)},t.config=function(t){e.resolve(t)}}(window.sevenTag,window.sevenTag.$injector),function(t,e){var n=function(t){var e=function(e,n){t.addEventListener?t.addEventListener(e,n,!1):t.attachEvent?t.attachEvent("on"+e,n):t["on"+e]=n},n=function(e,n){t.removeEventListener?t.removeEventListener(e,n,!1):t.detachEvent?t.detachEvent("on"+e,n):t["on"+e]=null},r=function(e){var n=e||t.event;n.cancelBubble=!0,n.stopPropagation&&n.stopPropagation()},i=function(e){return t.appendChild(e)};return{bind:e,unbind:n,stop:r,appendChild:i}};n.$inject=[],t.provider(e,function(){return n})}(window.sevenTag,"Element"),function(t){var e=[];t.value("$window",window),t.service("$document",function(){return document}),t.emit=function(t,n){for(var r in e)e[r](t,n)},t.on=function(t,n){e.push(function(e,r){e===t&&n(r)})},t.service("$postscribe",function(){return window.postscribe});var n=function(t){return new t(window.document.body)};n.$inject=["Element"],t.service("$bodyElement",n);var r=function(t){return new t(document)};r.$inject=["Element"],t.service("$documentElement",r),t.service("$injector",function(){return t.$injector}),t.provider("DOMAIN",function(){return"//yourseventag.com"}),t.provider("DELAY",function(){return"500"}),t.provider("ID",function(){return"4"}),t.value("$variables",function(){return window.sevenTag.variables}),t.value("DEBUG_PARAM_NAME","_stg_debug"),t.value("$location",window.location)}(window.sevenTag),function(t,e){function n(t){return"object"==typeof HTMLElement?t instanceof HTMLElement:t&&"object"==typeof t&&null!==t&&1===t.nodeType&&"string"==typeof t.nodeName}var r=function(t){var e={},r=e.hasOwnProperty,i={},o=[];return this.timeout=function(e){var n=[].slice.call(arguments,0)[1]||0;t.setTimeout(e,n)},this.extend=function(){var t,e,n,r,i,o,a=arguments[0]||{},s=1,c=arguments.length,u=!1;for("boolean"==typeof a&&(u=a,a=arguments[s]||{},s++),"object"==typeof a||this.isFunction(a)||(a={}),s===c&&(a=this,s--);c>s;s++)if(null!=(i=arguments[s]))for(r in i)t=a[r],n=i[r],a!==n&&(u&&n&&(this.isPlainObject(n)||(e=this.isArray(n)))?(e?(e=!1,o=t&&this.isArray(t)?t:[]):o=t&&this.isPlainObject(t)?t:{},a[r]=this.extend(u,o,n)):void 0!==n&&(a[r]=n));return a},this.isArray=Array.isArray||function(t){return t instanceof Array},this.isWindow=function(t){return void 0!==t.document},this.isPlainObject=function(t){var e;if(!t||"object"!==this.type(t)||t.nodeType||this.isWindow(t))return!1;try{if(t.constructor&&!r.call(t,"constructor")&&!r.call(t.constructor.prototype,"isPrototypeOf"))return!1}catch(n){return!1}if(i.ownLast)for(e in t)return r.call(t,e);for(e in t);return void 0===e||r.call(t,e)},this.type=function(t){return null==t?t+"":"object"==typeof t||"function"==typeof t?e[t.toString()]||"object":typeof t},this.getElementsByClassName=function(t){var e,n,r,i=document,o=[];if(i.querySelectorAll)return i.querySelectorAll("."+t);if(i.evaluate)for(n=".//*[contains(concat(' ', @class, ' '), '"+t+" ')]",e=i.evaluate(n,i,null,0,null);r=e.iterateNext();)o.push(r);else for(e=i.getElementsByTagName("*"),n=new RegExp("(^|\\s)"+t+"(\\s|$)"),r=0;r<e.length;r++)n.test(e[r].className)&&o.push(e[r]);return o},this.inArray=function(t,e,n){var r;if(e){if(o.indexOf)return o.indexOf.call(e,t,n);for(r=e.length,n=n?0>n?Math.max(0,r+n):n:0;r>n;n++)if(n in e&&e[n]===t)return n}return-1},this.endsWith=function(t,e,n){(void 0===n||n>t.length)&&(n=t.length),n-=e.length;var r=this.inString(t,e,n);return-1!==r&&r===n},this.inString=function(t,e,n){return t.indexOf(e,n?n:0)},this.clone=function(t){if(null===t||"object"!=typeof t||n(t))return t;var e=t.constructor();for(var r in t)e[r]=this.clone(t[r]);return e},this.trim=function(t){for(var t=t.replace(/^\s\s*/,""),e=/\s/,n=t.length;e.test(t.charAt(--n)););return t.slice(0,n+1)},this.guid=function(){function t(t){var e=(Math.random().toString(16)+"000000000").substr(2,8);return t?"-"+e.substr(0,4)+"-"+e.substr(4,4):e}return t()+t(!0)+t(!0)+t()},this};r.$inject=["$window"],t.service(e,r)}(window.sevenTag,"$utils"),function(t,e){var n=function(t){return this.add=function(e,n,r,i){var o="";if(i=void 0===i?"/":i,r){var a=new Date;a.setTime(a.getTime()+1e3*r),o="; expires="+a.toGMTString()}t.cookie=e+"="+n+o+"; path="+i},this.get=function(e){for(var n=t.cookie?t.cookie.split("; "):[],r=0;r<n.length;r++){var i=n[r].split("="),o=i[0].replace(/^\s+|\s+$/gm,"");if(o===e){var a=i.slice(1).join("=");return'"'===a.charAt(0)&&(a=a.slice(1,-1)),a}}return null},this.remove=function(t){this.add(t,"",-86400)},this};n.$inject=["$document"],t.service(e,n)}(window.sevenTag,"$cookie"),function(t,e,n){function r(t,e){var n=["1","yes","true"],r=i(t),o=function(){return e.inArray(""+r,n)>-1};return this.detect=function(){return o()},this}var i=function(t){return t.navigator?t.navigator.doNotTrack||t.navigator.msDoNotTrack:t.doNotTrack};sevenTag.provider(e,function(){return r});var o=function(t,e,n){return new n(t,e)};o.$inject=["$window","$utils","DoNotTrackDetector"],sevenTag.service(n,o)}(window.sevenTag,"DoNotTrackDetector","$doNotTrackDetector"),function(t,e,n){function r(t){var e=t.detect();return this.isEnabled=function(){return e},this}sevenTag.provider(e,function(){return r});var i=function(t,e){return new e(t)};i.$inject=["$doNotTrackDetector","DoNotTrack"],sevenTag.service(n,i),sevenTag[n]=sevenTag.$injector.get(n)}(window.sevenTag,"DoNotTrack","$doNotTrack"),function(t,e,n){function r(t){var e="_stg_optout";return this.isEnabled=function(){var n=t.get(e);return"true"===n},this}sevenTag.provider(e,function(){return r});var i=function(t,e){return new t(e)};i.$inject=["OptOut","$cookie"],sevenTag.service(n,i),sevenTag[n]=sevenTag.$injector.get(n)}(window.sevenTag,"OptOut","$optOut"),function(t,e){var n=function(t){return this.filterFromHash=function(e){return e.replace("#"+t,"")},this.filterFromQuery=function(e){if(!e)return"";var n=e.split("?");if(n.length<2)return"";for(var r=n.shift(),i=n.join("?"),o=encodeURIComponent(t),a=i.split(/[&;]/g),s=a.length;s-- >0;)-1!==a[s].lastIndexOf(o,0)&&a.splice(s,1);return e=r+(a.length>0?"?"+a.join("&"):"")},this};n.$inject=["DEBUG_PARAM_NAME"],t.service(e,n)}(window.sevenTag,"$debugParamFilter"),function(t,e){var n=function(t,e){return this.location=t,this.hasParam=function(){return this.hasParamInHash()||this.hasParamInQuery()},this.hasParamInHash=function(){return-1!==this.location.hash.indexOf(e)},this.hasParamInQuery=function(){return-1!==this.location.search.indexOf(e)},this};n.$inject=["$location","DEBUG_PARAM_NAME"],t.service(e,n)}(window.sevenTag,"$debugParamDetector"),function(t,e){var n=function(t,e){return this.CALLBACK_PATTERN="SevenTag_TagTreeCallback",this.callbackCounter=0,this.fetch=function(n,r){var i=this.CALLBACK_PATTERN+"_"+this.callbackCounter++;t[i]=this.eval(r),n=n.replace("=callback","="+i);var o=e.createElement("SCRIPT");o.src=n,e.head.appendChild(o)},this.eval=function(t){return function(e){var n=!1;if("string"==typeof e)try{n=JSON.parse(e)}catch(r){}else n=JSON.parse(JSON.stringify(e));if(!n)throw"JSONP call returned invalid or empty JSON";t(n)}},this};n.$inject=["$window","$document"],t.service(e,n)}(window.sevenTag,"$jsonp"),function(t,e,n){var r=function(){return this.enabled=!1,this.callback=void 0,this.isEnabled=function(){return this.enabled},this.setCallback=function(t){this.callback=t},this.hasCallback=function(){return void 0!==this.callback},this};r.$inject=[],t.service(e,r),t[n]=t.$injector.get(e)}(window.sevenTag,"$breakpointManager","breakpointManager"),function(t,e,n){var r=function(t,e,n,r,i){var o=!1,a=[];return this.stack=[],this.tagTree=[],this.breakpoints=t,this.isEnabled=function(){return o},this.start=function(t){return o=!0,this.tagTree=t,!0},this.stop=function(){return o=!1,!0},this.push=function(t){return o?(this.stack.push(t),!0):!1},this.close=function(){n.remove(r),e.href=i.filterFromHash(i.filterFromQuery(e.href))},this.addListener=function(t){return a.push(t),!0},this.hasListener=function(t){for(var e in a)if(t===a[e])return!0;return!1},this.removeListener=function(t){for(var e in a)if(t===a[e])return a.splice(e,1),!0;return!1},this.removeListeners=function(){return a=[],!0},this.debug=function(){if(o)for(var t in a)a.hasOwnProperty(t)&&a[t](this.stack)},this};r.$inject=["$breakpointManager","$location","$cookie","DEBUG_PARAM_NAME","$debugParamFilter"],t.service(e,r),t[n]=t.$injector.get("$debugger")}(window.sevenTag,"$debugger","debugger"),function(t,e){function n(){return this.visit=function(t,e,n){for(var r=0;r<t.length;r++)if(t[r].accept(e,n))return t[r].visit(e,n);return!1},this}t.provider(e,function(){return new n})}(window.sevenTag,"ConditionVisitorStrategy"),function(t,e){function n(){return this.visit=function(t,e,n){for(var i=0;i<t.length;i++)if(r(t[i],e,n))return!1;return!0},this}function r(t,e,n){return t.accept(e,n)&&!t.visit(e,n)}t.provider(e,function(){return new n})}(window.sevenTag,"TagVisitorStrategy"),function(t,e,n){function r(t){var e=function(e){return t.isEnabled()&&e.respectVisitorsPrivacy};return this.accept=function(){return!0},this.visit=function(t){return!e(t)},this}t.provider(e,function(){return r});var i=function(t,e){return new t(e)};i.$inject=["DoNotTrackVisitor","$doNotTrack"],t.service(n,i)}(window.sevenTag,"DoNotTrackVisitor","$doNotTrackVisitor"),function(t,e,n){function r(t){var e=function(e){return t.isEnabled()&&e.respectVisitorsPrivacy};return this.accept=function(){return!0},this.visit=function(t){return!e(t)},this}t.provider(e,function(){return r});var i=function(t,e){return new t(e)};i.$inject=["OptOutVisitor","$optOut"],t.service(n,i)}(window.sevenTag,"OptOutVisitor","$optOutVisitor"),function(t,e){var n=function(){this.accept=function(t){return"starts_with"===t.action||"does_not_start_with"===t.action},this.visit=function(n,r){return"undefined"==typeof r[n.variable]?!1:"starts_with"===n.action?t(n,r):e(n,r)};var t=function(t,e){var n=t.value;return n===e[t.variable].substr(0,n.length)},e=function(t,e){var n=t.value;return n!==e[t.variable].substr(0,n.length)};return this};n.$inject=[],t.service(e,n)}(window.sevenTag,"$startWithVisitor"),function(t,e){var n=function(t){this.accept=function(t){return"contains"===t.action||"does_not_contain"===t.action},this.visit=function(t,r){return"undefined"==typeof r[t.variable]||"string"!=typeof r[t.variable]||"string"!=typeof t.value?!1:"contains"===t.action?e(t,r):n(t,r)};var e=function(e,n){return-1!==t.inString(n[e.variable],e.value)},n=function(e,n){return-1===t.inString(n[e.variable],e.value)};return this};n.$inject=["$utils"],t.service(e,n)}(window.sevenTag,"$containsVisitor"),function(t,e){var n=function(t){this.accept=function(t){return"ends_with"===t.action||"does_not_end_with"===t.action},this.visit=function(t,n){return"undefined"==typeof n[t.variable]?!1:"ends_with"===t.action?e(t,n):!e(t,n)};var e=function(e,n){return t.endsWith(n[e.variable],e.value)};return this};n.$inject=["$utils"],t.service(e,n)}(window.sevenTag,"$endsWithVisitor"),function(t,e){var n=function(){this.accept=function(t){return"equals"===t.action||"does_not_equal"===t.action},this.visit=function(n,r){return"undefined"==typeof r[n.variable]?!1:"equals"===n.action?t(n,r):e(n,r)};var t=function(t,e){return t.value===e[t.variable]},e=function(t,e){return t.value!==e[t.variable]};return this};n.$inject=[],t.service(e,n)}(window.sevenTag,"$equalsVisitor"),function(t,e){var n=function(){this.accept=function(t){return"regexp"===t.action||"does_not_regexp"===t.action},this.visit=function(n,r){return"undefined"==typeof r[n.variable]?!1:"regexp"===n.action?t(n,r):e(n,r)};var t=function(t,e){return n(t,e)===!0},e=function(t,e){return n(t,e)===!1},n=function(t,e){var n=!1;try{n=new RegExp(t.value).test(e[t.variable])}catch(r){n=!1}return n};return this};n.$inject=[],t.service(e,n)}(window.sevenTag,"$regexpVisitor"),function(t,e){function n(t){var e=[];return this.add=function(t,n){return"undefined"==typeof n&&(n=0),e.push({priority:+n,visitor:t}),!0},this.has=function(t){for(var n in e)if(t===e[n].visitor)return!0;return!1},this.remove=function(t){for(var n in e)if(t===e[n].visitor)return e.splice(n,1),!0;return!1},this.removeAll=function(){return e=[],!0},this.getVisitors=function(){var t=[];e.sort(function(t,e){return e.priority-t.priority});for(var n in e)t.push(e[n].visitor);return t},this.visit=function(e,n){return t.visit(this.getVisitors(),e,n)},this}t.provider(e,function(){return n})}(window.sevenTag,"VisitorManager"),function(t,e){var n=function(){return Array.prototype.slice.call(arguments)};n.$inject=["$containsVisitor","$endsWithVisitor","$equalsVisitor","$regexpVisitor","$startWithVisitor"];var r=function(t,e,n){var r=new t(n);for(var i in e)r.add(e[i]);return r};r.$inject=["VisitorManager","$conditionVisitorManagerVisitorsCollection","ConditionVisitorStrategy"],t.service(e+"VisitorsCollection",n),t.service(e,r)}(window.sevenTag,"$conditionVisitorManager"),function(t,e){var n=function(t,e){return this.create=function(n){var r="_stg_debug",i=t.get(r);return i&&(n+="Debug"),e.get(n)},this};n.$inject=["$cookie","$injector"],t.service(e,n)}(window.sevenTag,"$decisionStrategyFactory"),function(t,e){function n(t){var e=t;return this.decision=function(t,n){for(var r in t)if(!e.visit(t[r],n))return!1;return!0},this}t.provider(e,function(){return n})}(window.sevenTag,"ConjunctionDecisionStrategy"),function(t,e){function n(t){var e=t;return this.decision=function(t,n){for(var r in t)if(e.visit(t[r],n))return!0;return!1},this}t.provider(e,function(){return n})}(window.sevenTag,"DisjunctionDecisionStrategy"),function(t,e){function n(t){var e=t;return this.decision=function(t,n){var r=!0;for(var i in t)t[i].resolved=e.visit(t[i],n),t[i].resolved||(r=!1);return r},this}t.provider(e,function(){return n})}(window.sevenTag,"ConjunctionDecisionStrategyDebug"),function(t,e){function n(t){var e=t;return this.decision=function(t,n){var r=!1;for(var i in t)t[i].resolved=e.visit(t[i],n),t[i].resolved&&(r=!0);return r},this}t.provider(e,function(){return n})}(window.sevenTag,"DisjunctionDecisionStrategyDebug"),function(t,e){var n=function(t,e){var n=t.create("ConjunctionDecisionStrategy");return new n(e)};n.$inject=["$decisionStrategyFactory","$conditionVisitorManager"],t.service(e,n)}(window.sevenTag,"$conditionDecisionStrategy"),function(t,e,n){function r(t){var e=t;return this.accept=function(t){return"undefined"!=typeof t.conditions},this.visit=function(t,n){return e.decision(t.conditions,n)},this}t.provider(e,function(){return r});var i=function(t,e){return new t(e)};i.$inject=["TriggerVisitor","$conditionDecisionStrategy"],t.service(n,i)}(window.sevenTag,"TriggerVisitor","$triggerVisitor"),function(t,e){var n=function(){return Array.prototype.slice.call(arguments)};n.$inject=["$doNotTrackVisitor","$optOutVisitor"];var r=function(t,e,n){var r=new t(n);for(var i in e)r.add(e[i]);return r};r.$inject=["VisitorManager","$tagVisitorManagerVisitorsCollection","TagVisitorStrategy"],t.service(e+"VisitorsCollection",n),t.service(e,r)}(window.sevenTag,"$tagVisitorManager"),function(t,e){var n=function(){return Array.prototype.slice.call(arguments)};n.$inject=["$triggerVisitor"];var r=function(t,e,n){var r=new t(n);for(var i in e)r.add(e[i]);return r};r.$inject=["VisitorManager","$triggerVisitorManagerVisitorsCollection","ConditionVisitorStrategy"],t.service(e+"VisitorsCollection",n),t.service(e,r)}(window.sevenTag,"$triggerVisitorManager"),function(t,e){var n=function(t,e){var n=t.create("DisjunctionDecisionStrategy");return new n(e)};n.$inject=["$decisionStrategyFactory","$triggerVisitorManager"],t.service(e,n)}(window.sevenTag,"$triggerDecisionStrategy"),function(t,e){var n=function(t){return this.decision=function(e){return t.visit(e)},this};n.$inject=["$tagVisitorManager"],t.service(e,n)}(window.sevenTag,"$tagDecisionStrategy"),function(t,e,n){function r(t,e){this.resolve=function(n,r){var i=[];for(var o in n)e.decision(n[o])&&(n[o].resolved=t.decision(n[o].triggers,r),i.push(n[o]));return i}}t.provider(e,function(){return r});var i=function(t,e,n){return new n(t,e)};i.$inject=["$triggerDecisionStrategy","$tagDecisionStrategy","Resolver"],t.service(n,i)}(window.sevenTag,"Resolver","$resolver"),
function(t,e){function n(){var t="stg._",e={},n=function(e){return t+e},r=function(t){return t=n(t),void 0!==e[t]?e[t]:void 0},i=function(t,r,i){var o=n(t);e[o]=function(){r.bind(t,i)}},o=function(t){t=n(t),e[t]&&delete e[t]},a=function(){for(var t in e)e.hasOwnProperty(t)&&e[t]()};return{getListener:r,addListener:i,removeListener:o,run:a}}n.$inject=[],t.service(e,n)}(window.sevenTag,"$eventHandler"),function(t,e){var n=function(){var t={};return this.push=function(e,n){t[e]=n},this.get=function(e,n){return void 0!==t[e]?t[e][n]:void 0},this};n.$inject=[],t.service(e,n)}(window.sevenTag,"$variablesHistory"),function(t,e){var n=function(){return this.collectors={},this.add=function(t,e){return void 0===this.collectors[t]&&(this.collectors[t]=e),this},this.get=function(t){return this.collectors[t]},this};t.service(e,n)}(window.sevenTag,"$collectorProvider"),function(t,e){var n=function(t,e){return this.handle=function(n){for(var r,i={},o=t(),a=0;a<o.length;a++)r=o[a],i[r.name]=e.get(r.type.collector_name)(r,n);return i},this};n.$inject=["$variables","$collectorProvider"],t.service(e,n)}(window.sevenTag,"$variablesManager"),function(t,e){var n=function(t,e){var n="{{",r="}}",i=function(t){return String(t).replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")};return this.parse=function(o,a,s){e.push(s,a);var c,u,f=window.document.createElement("div");u=f.addEventListener?i(n)+"((?:.|[\r\n])+?)(?:"+i(r)+"|$)":"{{|}}",c=o.split(new RegExp(u));for(var l,d,v,h=[],p=0;p<c.length;p++)l=d=t.trim(c[p]),p%2===1&&(l=a[d],v=t.type(l),null===l&&(v="",l="null"),void 0===l&&(v="",l="undefined"),"string"===v&&(l="'"+l+"'"),-1!=t.inArray(v,["object","array","function"])&&(l="(function(){return window.sevenTag.$injector.get('$variablesHistory').get('"+s+"', '"+d+"') })()")),h.push(l);return h.join("")},this};n.$inject=["$utils","$variablesHistory"],t.service(e,n)}(window.sevenTag,"$parser"),function(t,e){var n=function(t,e,n){return this.render=function(r,i,o,a){i.code=n.parse(i.code,o,a);var s=r,c=t.document.createElement("div");if(c.innerHTML="A"+i.code,i.documentWrite){var u=t.document.createElement("div");u.style.display="none",u.style.visibility="hidden",r.appendChild(u),s=u}for(var f=1;f<c.childNodes.length;f++)if(c.childNodes.item(f).nodeType){if("SCRIPT"===c.childNodes.item(f).tagName){var l=t.document.createElement("SCRIPT");for(var d in c.childNodes.item(f).attributes)isNaN(parseInt(d))||(l[c.childNodes.item(f).attributes[d].name]=c.childNodes.item(f).attributes[d].value);l.type="text/javascript",l.defer=!1,l.text=c.childNodes.item(f).text,c.replaceChild(l,c.childNodes.item(f))}i.documentWrite||s.appendChild(c.childNodes.item(f))}i.documentWrite&&(c.removeChild(c.childNodes[0]),e(s,c.innerHTML))},this};n.$inject=["$window","$postscribe","$parser"],t.service(e,n)}(window.sevenTag,"$renderer"),function(t,e){var n=function(t,e){return this.get=function(n,r){if(!r.defaultPrevented&&r.returnValue!==!1){var i="undefined"!=typeof r.target?r.target:r.srcElement;return"click"===n&&-1!==t.inArray(i.nodeName,["A"])?(r.preventDefault(),function(){e.href=i.href}):"submit"===n?(r.preventDefault(),function(){i.submit()}):void 0}},this};n.$inject=["$utils","$location"],t.service(e,n)}(window.sevenTag,"$callbackFactory"),function(t,e){var n=function(t,e,n,r,i){var o=!1,a=0,s=0,c=0,u=0,f={},l=function(t){return t.targetTouches?t.targetTouches[0]:t},d=function(t){return"undefined"!=typeof t.target?t.target:t.srcElement};return this.handle=function(t){e.addListener("click",r,function(e){var n=d(e);e.which||void 0===n||(e.which=n?1:n?3:n?2:0),1===e.which&&t.push({event:"stg.click",eventCallback:i.get("click",e),element:n,elementId:n.id,elementClasses:n.className,elementUrl:n.href})}),e.addListener("touchstart",r,function(e){var n=d(e);f=l(e),c=a=f.pageX,u=s=f.pageY,o=!0,setTimeout(function(){c!==a||o||u!==s||t.push({event:"stg.click",eventCallback:i.get("click",e),element:n,elementId:n.id,elementClasses:n.className,elementUrl:n.action})},200)}),e.addListener("touchend",r,function(t){o=!1}),e.addListener("touchmove",r,function(t){f=l(t),a=f.pageX,s=f.pageY}),e.addListener("submit",r,function(e){var n=d(e);t.push({event:"stg.formSubmit",eventCallback:i.get("submit",e),element:n,elementId:n.id,elementClasses:n.className,elementUrl:n.action})}),e.addListener("load",r,function(){t.push({event:"stg.load",start:(new Date).getTime()})}),e.run()},this};n.$inject=["Element","$eventHandler","$utils","$documentElement","$callbackFactory"],t.service(e,n)}(window.sevenTag,"$listenersHandler"),function(t,e){var n=function(t,e,n,r,i,o,a){var s=function(t,n){return t?void e.timeout(n.eventCallback,parseInt(void 0===n.eventCallbackTimeout?a:n.eventCallbackTimeout)):void n.eventCallback()};return this.handle=function(a,c){for(var u,f,l,d,v=new t(document.body);c.length>0;){var h={},p=e.guid();h.dataLayer=c.shift();var g=n.handle(h,p),m=r.resolve(a,g);i.push({dataLayerElement:e.clone(h.dataLayer),variableCollection:e.clone(g),tags:e.clone(m)}),i.debug();var y=!1;for(var w in m)if(m[w].resolved){if(i.isEnabled()&&m[w].disableInDebugMode)continue;y=!0,o.render(v,m[w],g,p)}if(void 0!==h.dataLayer.eventCallback){if(i.breakpoints.isEnabled())continue;d=h.dataLayer.element,u=void 0!==d.onclick?null!==d.onclick:!1,f=void 0!==d.onclick?null!==d.onsubmit:!1,l=""!==d.href,(l||u&&f)&&s(y,h.dataLayer)}}},this};n.$inject=["Element","$utils","$variablesManager","$resolver","$debugger","$renderer","DELAY"],t.service(e,n)}(window.sevenTag,"$tagsHandler"),function(t,e){function n(t,e){return function(n,r){var i,o=n.method||"GET";if(void 0===n.url)throw new Error("Url not pass to $http config");return"JSONP"===n.method?e.fetch(n.url,r):(i=t.XMLHttpRequest?new t.XMLHttpRequest:new t.ActiveXObject("Microsoft.XMLHTTP"),i.open(o,n.url,!0),i.onreadystatechange=function(){if(4===i.readyState&&200===i.status){var t=JSON.parse(i.response);r(t)}},void i.send())}}n.$inject=["$window","$jsonp"],t.service(e,n)}(window.sevenTag,"$http"),function(t,e){var n=function(e,n,r,i,o,a,s,c,u,f,l,d){var v=function(){var v=[];return this.bootstrap=function(){var h,p=e.sevenTag.tagTree||{},g=e.sevenTag.variables||[],m="_stg_debug";s.get(m);d.hasParam()?(h=!0,s.add(l,h)):h=s.get(l),e.dataLayer=e.dataLayer||[];var y=e.dataLayer,w=function(){y.push({event:"stg.pageView",start:(new Date).getTime()});var e=y.push;y.push=function(){var t=[].slice.call(arguments,0);for(e.apply(y,t),v.push.apply(v,t);this.length>300;)this.shift();i.handle(n.clone(p),v)},r.handle(y),v.push.apply(v,y.slice(0)),n.timeout(function(){i.handle(n.clone(p),v)}),t.emit("bootstrap")};h?a({method:"JSONP",url:u+"/containers/tagtree/"+f+".jsonp?callback=SevenTag_TagTreeCallback_0"},function(t){var n=t.debug||{enabled:!1,containerName:""};h?(n.enabled===!0?(p=t.tagtree||{},g=t.variables||[],e.sevenTag.tagTree=p,e.sevenTag.variables=g,e.sevenTag.debugOptions=n,o.start(p)):s.remove(l),w()):n.enabled===!0&&(s.add(l,1),c.reload())}):w()},this};return v};n.$inject=["$window","$utils","$listenersHandler","$tagsHandler","$debugger","$http","$cookie","$location","DOMAIN","ID","DEBUG_PARAM_NAME","$debugParamDetector"],t.provider(e,n)}(window.sevenTag,"SevenTag"),function(t){var e=function(t,e,n,r,i,o){t.add("dataLayer",function(t,e){return"undefined"!=typeof e.dataLayer[t.value]?e.dataLayer[t.value]:void 0}).add("constant",function(t){return t.value}).add("cookie",function(t){return e.get(t.value)}).add("url",function(t){var e=["href","hostname","pathname"];return-1!==o.inArray(t.value,e)?i[t.value]:"referrer"===t.value?r.referrer:t.value}).add("document",function(t){return r[t.value]}).add("random",function(){return Math.random()})};e.$inject=["$collectorProvider","$cookie","$window","$document","$location","$utils"],t.config(e)}(window.sevenTag);(function(sevenTag){}(window.sevenTag));!function(e){var n=new e;n.bootstrap()}(window.sevenTag.$injector.get("SevenTag"));!function(e){e.sevenTag.on("bootstrap",function(){function i(){return e.innerWidth<400||e.innerHeight<400}function n(){return e.parent.stgDebuggerMinimized}function t(){return e.innerWidth<e.innerHeight}function s(){t()?(a.style.width="100%",a.style.height=n()?"60px":"100%",e.document.body.style["margin-top"]="60px",a.style["overflow-y"]="auto"):(a.style.width=n()?"60px":"400px",a.style.height="100%",a.style.transition="width 1s",e.document.body.style["margin-top"]="0px")}if(e.sevenTag.debugOptions.enabled!==!1){var o='<!doctype html>\n<html lang="en" ng-app="application" ng-cloak>\n<head>\n    <meta charset="UTF-8">\n    <title>Debugger for admin</title>\n    <meta name="description" content="">\n    <meta name="viewport" content="width=device-width">\n\n    <link rel="stylesheet" href="//yourseventag.com/container-debugger/icons.css" type="text/css" />\n    <link rel="stylesheet" href="//yourseventag.com/container-debugger/animate.min.css" type="text/css" />\n    <link rel="stylesheet" href="//yourseventag.com/container-debugger/styles.css" type="text/css" />\n</head>\n<body ng-class="{ \'mobile\': isMobile() }">\n    <header id="navbar">\n    <a\n        id="navbar-slide-button"\n        href\n        ng-click="debugger.minimizedMemento.isMinimized() ? debugger.minimizedMemento.maximize() : debugger.minimizedMemento.minimize()"\n    >\n        <i class="icon-arrow-thin-right" ng-if="!debugger.minimizedMemento.isMinimized() && !isMobile()"></i>\n        <i class="icon-arrow-thin-left" ng-if="debugger.minimizedMemento.isMinimized() && !isMobile()"></i>\n        <i class="icon-arrow-down" ng-if="debugger.minimizedMemento.isMinimized() && isMobile()"></i>\n        <i class="icon-arrow-up" ng-if="!debugger.minimizedMemento.isMinimized() && isMobile()"></i>\n    </a>\n    <div id="brand-minimize" minimize-element ng-if="isMobile()">\n        <i class="icon-logo"></i>\n    </div>\n    <div id="navbar-brand" minimize-cloak>\n        <i class="icon-logo"></i>\n    </div>\n    <div id="navbar-container-separator" minimize-cloak></div>\n    <div id="navbar-container-name" minimize-cloak>\n        {{ debugger.$containerName }}\n    </div>\n    <a id="navbar-close-button" href minimize-cloak ng-click="debugger.close()"><i class="icon-close"></i></a>\n</header>\n\n    <div id="brand-minimize" class="brand-minimize-not-mobile" minimize-element ng-if="!isMobile()">\n        <i class="icon-logo"></i>\n    </div>\n    <div id="container-wrapper" minimize-cloak>\n        <nav id="navigation">\n    <ul>\n        <li ng-class="{active: $state.includes(\'overview\')}">\n            <a href ui-sref="overview.tags">Overview</a>\n        </li>\n        <li ng-class="{active: $state.includes(\'events-log\')}">\n            <a href ui-sref="events-log.list">Events log</a>\n        </li>\n    </ul>\n</nav>\n\n\n        <main id="page-view" ui-view style="clear:both"></main>\n\n        <div id="breakpoints">\n    <div id="breakpoints-title">\n        Breakpoints\n        <cc-help ng-if="isHelperVisible()" content="With breakpoints You can stop the page change events from execution. This makes it easier to check if proper tags were triggered e.g. during form submission" placement="up"></cc-help>\n    </div>\n    <input\n        type="checkbox"\n        id="breakpoints-input"\n        ng-model="debugger.$debugger.breakpoints.enabled"\n        class="stg-toggle"\n        ng-class="{\'checked\': debugger.$debugger.breakpoints.isEnabled()}"\n    />\n    <label for="breakpoints-input" id="breakpoints-toggle" class="stg-toggle-btn"></label>\n</div>\n\n    </div>\n\n    <script type="text/ng-template" id="ccHelp.html">\n        <i\n            class="icon-info-circle helper"\n            ng-class="{\'icon-info-circle\': !active, \'icon-info-fill\': active}"\n            tooltip-placement="{{ placement}}"\n            tooltip-html-unsafe="{{ content }}"\n            ng-init="active = false;"\n            ng-mouseenter="active = true"\n            ng-mouseleave="active = false"\n        >\n        </i>\n    </script>\n\n    <script src="//yourseventag.com/container-debugger/vendor.js"></script>\n    <script src="//yourseventag.com/container-debugger/scripts.js"></script>\n    <script src="//yourseventag.com/container-debugger/templates.cache.js"></script>\n</body>\n</html>\n',a=e.document.createElement("DIV");e.onresize=function(){i()&&s()},s(),a.style.position="fixed",a.style["-webkit-overflow-scrolling"]="touch",a.style.zIndex="2147483647",a.style.right=0,a.style.top=0,a.id="seventag_container_debugger";var l=e.document.createElement("iframe");l.style.width="100%",l.style.height="100%",l.style.border="none",l.src="about:blank",a.appendChild(l),e.document.body.appendChild(a);var r=l.contentWindow.document;r.open(),r.write(o),r.close()}})}(window);